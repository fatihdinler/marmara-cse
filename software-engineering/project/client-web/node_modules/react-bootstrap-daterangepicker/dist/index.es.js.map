{"version":3,"file":"index.es.js","sources":["../src/index.tsx"],"sourcesContent":["import * as React from 'react';\nimport $ from 'jquery';\nimport 'bootstrap-daterangepicker';\n\nexport interface EventHandler {\n  (event: JQuery.Event, picker: daterangepicker): any;\n}\nexport interface CallbackHandler {\n  (\n    start?: daterangepicker.DateOrString,\n    end?: daterangepicker.DateOrString,\n    label?: string\n  ): any;\n}\nexport interface Props {\n  initialSettings?: daterangepicker.Options;\n\n  // events supported by the upstream lib\n  onApply?: EventHandler;\n  onCancel?: EventHandler;\n  onHide?: EventHandler;\n  onHideCalendar?: EventHandler;\n  onShow?: EventHandler;\n  onShowCalendar?: EventHandler;\n\n  // custom events in this lib\n  onEvent?: EventHandler;\n  onCallback?: CallbackHandler;\n}\n\nexport class DateRangePicker extends React.Component<\n  React.PropsWithChildren<Props>\n> {\n  ref: any;\n  $picker: JQuery | null;\n  constructor(props: Props) {\n    super(props);\n    this.ref = null;\n    this.$picker = null;\n  }\n  componentDidMount() {\n    // initialize daterangepicker\n    this.$picker = $(this.ref);\n    this.$picker.daterangepicker(\n      this.props.initialSettings,\n      this.handleCallback.bind(this)\n    );\n    // attach event listeners\n    ['Show', 'Hide', 'ShowCalendar', 'HideCalendar', 'Apply', 'Cancel'].forEach(\n      (event) => {\n        const lcase = event.charAt(0).toLowerCase() + event.slice(1);\n        this.$picker?.on(\n          lcase + '.daterangepicker',\n          this.makeEventHandler('on' + event)\n        );\n      }\n    );\n  }\n  componentWillUnmount() {\n    this.$picker?.data('daterangepicker')?.remove();\n  }\n  handleCallback(...args: any) {\n    if (typeof this.props.onCallback === 'function') {\n      this.props.onCallback(...args);\n    }\n  }\n  makeEventHandler(eventType: string) {\n    const { onEvent } = this.props;\n    return (event: JQuery.Event, picker: daterangepicker) => {\n      if (typeof onEvent === 'function') {\n        onEvent(event, picker);\n      }\n      if (typeof (this.props as any)[eventType] === 'function') {\n        (this.props as any)[eventType](event, picker);\n      }\n    };\n  }\n  setStartDate(dateOrString: daterangepicker.DateOrString) {\n    this.$picker?.data('daterangepicker')?.setStartDate(dateOrString);\n  }\n  setEndDate(dateOrString: daterangepicker.DateOrString) {\n    this.$picker?.data('daterangepicker')?.setEndDate(dateOrString);\n  }\n  render() {\n    const childElement: any = React.Children.only(this.props.children);\n    return React.cloneElement(childElement, {\n      ref: (el: any) => (this.ref = el),\n    });\n  }\n}\n\nexport default DateRangePicker;\n"],"names":[],"mappings":"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"}